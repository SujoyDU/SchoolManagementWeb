<div class="card mt-4">
  <h4 class="card-header">Welcome {{name}}</h4>
<!--  <nav>-->
<!--    <ul>-->
<!--      <li><a routerLink="/users" routerLinkActive="active">User List</a></li>-->
<!--    </ul>-->
<!--  </nav>-->

  <div class="card-body">
    <h6>View User List</h6>
    <div *ngIf="loading" class="spinner-border spinner-border-sm"></div>
    <ul *ngIf="users">
      <li *ngFor="let user of users">
        First Name: {{user.first_name}}
        Last Name: {{user.last_name}}
        Email: {{user.email}}
      </li>
    </ul>
  </div>


  <div *ngIf = "name == 'admin'" style="width: 400px; margin: auto;">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()"  class="text-center border border-light p-5">
      <p class="h4 mb-4">Create New User</p>
      <div class="form-row mb-4">
        <div class="col">
          <div class="form-group">
            <input type="text" formControlName="first_name" placeholder="First Name" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.first_name.errors }" />
            <div *ngIf="submitted && f.first_name.errors" class="invalid-feedback">
              <div *ngIf="f.first_name.errors.required">First Name is required</div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <input type="text" formControlName="last_name" placeholder="Last Name" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.last_name.errors }" />
            <div *ngIf="submitted && f.last_name.errors" class="invalid-feedback">
              <div *ngIf="f.last_name.errors.required">Last Name is required</div>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <input type="email" formControlName="email" placeholder="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required">Email is required</div>
        </div>
      </div>

      <div class="form-group">
        <input type="password" formControlName="password" placeholder="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
        <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
          <div *ngIf="f.password.errors.required">Password is required</div>
        </div>
      </div>

      <div class="form-group" formGroupName="profile">
        <input type="date" formControlName="dob" placeholder="Date of Birth" class="form-control" />
      </div>

      <div class="form-group" formGroupName="profile">
        <input type="text" formControlName="address" placeholder="Address" class="form-control" />
      </div>

      <div class="form-group" formGroupName="profile">
        <input type="text" formControlName="city" placeholder="City" class="form-control" />
      </div>

      <div class="form-group" formGroupName="profile">
        <input type="text" formControlName="country" placeholder="country" class="form-control" />
      </div>

      <div class="form-group" formGroupName="profile">
        <input type="text" formControlName="zip" placeholder="Zip Code" class="form-control" />
      </div>

      <div class="form-group" formGroupName="profile">
        <label for="type">Select User Type:</label>
        <select class="form-control" formControlName="user_type" id="type">
          <option>T</option>
          <option>S</option>
        </select>
      </div>

      <button class="btn btn-info my-4 btn-block" type="submit">Submit</button>
    </form>
    <br>
    <br>
    <div *ngIf="submitted">
      <h4>You submitted successfully!</h4>
    </div>

  </div>
</div>
